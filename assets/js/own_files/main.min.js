const swal=Swal.mixin({confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}),Toast=Swal.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:1700});function toast(a,b){Toast.fire({type:a,title:b})}function getData(a){const b=new FormData;return Object.keys(a).forEach(c=>b.append(c,a[c])),b}function sendData(a,b){fetch(`../../controllers/${b}`,{method:"POST",body:getData(a)}).then(a=>a.text()).then(a=>$("#response").html(a))}function loadTable(a){sendData({search:$("#search").val(),func:`table`},a)}function sendDataDelete(a,b,c){fetch(`../../controllers/${c}`,{method:"POST",body:getData({id:a,func:"destroy"})}).then(a=>a.text()).then(a=>{"1"===a?(loadTable(c),toast("success",b)):toast("error","Error al eliminar este registro.")})}function confirmDelete(a,b,c){swal.fire({title:"\xBFDesea eliminar a "+a,text:"Esta apunto de eliminar este registro.",type:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(a=>{a.value&&sendDataDelete(b," eliminado correctamente.",c)})}function emptyForm(){$("#response").html("<div class=\"alert alert-danger alert-with-icon\"><button type=\"button\" aria-hidden=\"true\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><i class=\"tim-icons icon-simple-remove\"></i></button><span data-notify=\"icon\" class=\"tim-icons icon-alert-circle-exc\"></span><span><b> \xA1Error! - </b>Favor de ingresar los datos correctamente.</span></div>")}function confirmDeleteFavorite(a,b,c,d){swal.fire({title:"\xBFDesea eliminar a "+b,text:"Est\xE1 apunto de eliminar este registro de favoritos.",type:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",reverseButtons:!0}).then(b=>{b.value&&setOrUnSetFavorite(a,c,!1,d)})}function setOrUnSetFavorite(a,b,c,d){d.preventDefault();let e=c?"save":"destroy";fetch(`../../controllers/FavoriteController`,{method:"POST",body:getData({id:a,func:e})}).then(a=>a.text()).then(a=>{"setted"===a?(loadTable(b),toast("info","Agregado a favoritos!")):"unsetted"===a?(loadTable(b),toast("info","Eliminado de favoritos!")):toast("error","error al eliminar o al agregar!")})}function detailFavorite(a){fetch(`../../controllers/FavoriteController`,{method:"POST",body:getData({id:a,func:"details"})}).then(a=>a.text()).then(a=>$("#detail").html(a))}